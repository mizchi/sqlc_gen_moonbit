version: "2"
plugins:
  - name: moonbit
    wasm:
      url: "file://../../bin/sqlc-gen-moonbit.wasm"
      sha256: "f141c3b960891788c4fa43dc32b936af610b47f5ba54b2d80a7d6508641d3350"
sql:
  - engine: sqlite
    schema: "db/schema.sql"
    queries: "db/sqlite/query.sql"
    codegen:
      - plugin: moonbit
        out: "db/gen"
        options:
          backend: "d1"
          validators: true
          json_schema: true
