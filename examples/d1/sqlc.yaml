version: "2"
plugins:
  - name: moonbit
    wasm:
      url: "file://../../bin/sqlc-gen-moonbit.wasm"
      sha256: ""
sql:
  - engine: sqlite
    schema: "db/schema.sql"
    queries: "db/sqlite/query.sql"
    codegen:
      - plugin: moonbit
        out: "db/gen"
        options:
          backend: "d1"
          validators: true
          json_schema: true
