version: "2"
plugins:
  - name: moonbit
    wasm:
      url: "file://../../bin/sqlc-gen-moonbit.wasm"
      sha256: "d7be44a110ada0a343b3fbd6397f651c68d6de109652e71c395358a3ee9d2762"
sql:
  - engine: sqlite
    schema: "db/schema.sql"
    queries: "db/sqlite/query.sql"
    codegen:
      - plugin: moonbit
        out: "db/gen"
        options:
          backend: "d1"
          validators: true
          json_schema: true
