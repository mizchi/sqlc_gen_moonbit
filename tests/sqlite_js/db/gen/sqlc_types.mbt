// Generated by sqlc-gen-moonbit
// sqlc version: v1.30.0

///| SQL execution error
pub suberror SqlError {
  SqlError(String)
} derive(Show)

///|
pub struct GetUserByIdRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct GetUserByEmailRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct ListUsersRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct ListActiveUsersRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct GetUsersWithBioRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct GetUsersWithoutBioRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct GetUsersWithPositiveBalanceRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct CountActiveUsersRow {
  count : Int
} derive(Show, Eq)

///|
pub struct SearchUsersByNameRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct ListUsersWithLimitRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct GetUserCountRow {
  count : Int
} derive(Show, Eq)

///|
pub struct GetPostByIdRow {
  id : Int
  author_id : Int
  title : String
  content : String
  view_count : Int
  is_published : Int
  published_at : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct ListPostsByAuthorRow {
  id : Int
  author_id : Int
  title : String
  content : String
  view_count : Int
  is_published : Int
  published_at : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct GetPostWithAuthorRow {
  id : Int
  title : String
  content : String
  view_count : Int
  is_published : Int
  published_at : String?
  created_at : String
  author_id : Int
  author_name : String
  author_email : String
} derive(Show, Eq)

///|
pub struct ListPostsWithAuthorsRow {
  id : Int
  title : String
  view_count : Int
  is_published : Int
  created_at : String
  author_id : Int
  author_name : String
} derive(Show, Eq)

///|
pub struct GetPostCountByAuthorRow {
  post_count : Int
} derive(Show, Eq)

///|
pub struct GetAuthorStatsRow {
  post_count : Int
  total_views : String?
} derive(Show, Eq)

///|
pub struct GetTagByNameRow {
  id : Int
  name : String
} derive(Show, Eq)

///|
pub struct ListTagsRow {
  id : Int
  name : String
} derive(Show, Eq)

///|
pub struct ListTagsForPostRow {
  id : Int
  name : String
} derive(Show, Eq)

///|
pub struct GetTagCountForPostRow {
  tag_count : Int
} derive(Show, Eq)

///|
pub struct ListUsersPaginatedRow {
  id : Int
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct ListPostsByAuthorPaginatedRow {
  id : Int
  author_id : Int
  title : String
  content : String
  view_count : Int
  is_published : Int
  published_at : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct ListPostsWithAuthorsPaginatedRow {
  id : Int
  title : String
  view_count : Int
  is_published : Int
  created_at : String
  author_id : Int
  author_name : String
} derive(Show, Eq)

///|
pub struct ListPublishedPostsPaginatedRow {
  id : Int
  author_id : Int
  title : String
  content : String
  view_count : Int
  is_published : Int
  published_at : String?
  created_at : String
} derive(Show, Eq)

///|
pub struct GetUserByIdParams {
  id : Int
} derive(Show, Eq)

///|
pub fn GetUserByIdParams::new(id : Int) -> GetUserByIdParams {
  { id, }
}

///|
pub struct GetUserByEmailParams {
  email : String
} derive(Show, Eq)

///|
pub fn GetUserByEmailParams::new(email : String) -> GetUserByEmailParams {
  { email, }
}

///|
pub struct CreateUserParams {
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
} derive(Show, Eq)

///|
pub fn CreateUserParams::new(name : String, email : String, age : Int?, balance : Double?, is_active : Int, bio : String?) -> CreateUserParams {
  { name, email, age, balance, is_active, bio, }
}

///|
pub struct CreateUserReturningIdParams {
  name : String
  email : String
  age : Int?
  balance : Double?
  is_active : Int
  bio : String?
} derive(Show, Eq)

///|
pub fn CreateUserReturningIdParams::new(name : String, email : String, age : Int?, balance : Double?, is_active : Int, bio : String?) -> CreateUserReturningIdParams {
  { name, email, age, balance, is_active, bio, }
}

///|
pub struct DeleteUserByIdParams {
  id : Int
} derive(Show, Eq)

///|
pub fn DeleteUserByIdParams::new(id : Int) -> DeleteUserByIdParams {
  { id, }
}

///|
pub struct UpdateUserNameParams {
  name : String
  id : Int
} derive(Show, Eq)

///|
pub fn UpdateUserNameParams::new(name : String, id : Int) -> UpdateUserNameParams {
  { name, id, }
}

///|
pub struct UpdateUserBioParams {
  bio : String?
  id : Int
} derive(Show, Eq)

///|
pub fn UpdateUserBioParams::new(bio : String?, id : Int) -> UpdateUserBioParams {
  { bio, id, }
}

///|
pub struct UpdateUserBalanceParams {
  balance : Double?
  id : Int
} derive(Show, Eq)

///|
pub fn UpdateUserBalanceParams::new(balance : Double?, id : Int) -> UpdateUserBalanceParams {
  { balance, id, }
}

///|
pub struct ActivateUserParams {
  id : Int
} derive(Show, Eq)

///|
pub fn ActivateUserParams::new(id : Int) -> ActivateUserParams {
  { id, }
}

///|
pub struct DeactivateUserParams {
  id : Int
} derive(Show, Eq)

///|
pub fn DeactivateUserParams::new(id : Int) -> DeactivateUserParams {
  { id, }
}

///|
pub struct SearchUsersByNameParams {
  name : String
} derive(Show, Eq)

///|
pub fn SearchUsersByNameParams::new(name : String) -> SearchUsersByNameParams {
  { name, }
}

///|
pub struct ListUsersWithLimitParams {
  limit : Int
} derive(Show, Eq)

///|
pub fn ListUsersWithLimitParams::new(limit : Int) -> ListUsersWithLimitParams {
  { limit, }
}

///|
pub struct CreatePostParams {
  author_id : Int
  title : String
  content : String
  is_published : Int
} derive(Show, Eq)

///|
pub fn CreatePostParams::new(author_id : Int, title : String, content : String, is_published : Int) -> CreatePostParams {
  { author_id, title, content, is_published, }
}

///|
pub struct CreatePostReturningIdParams {
  author_id : Int
  title : String
  content : String
  is_published : Int
} derive(Show, Eq)

///|
pub fn CreatePostReturningIdParams::new(author_id : Int, title : String, content : String, is_published : Int) -> CreatePostReturningIdParams {
  { author_id, title, content, is_published, }
}

///|
pub struct GetPostByIdParams {
  id : Int
} derive(Show, Eq)

///|
pub fn GetPostByIdParams::new(id : Int) -> GetPostByIdParams {
  { id, }
}

///|
pub struct ListPostsByAuthorParams {
  author_id : Int
} derive(Show, Eq)

///|
pub fn ListPostsByAuthorParams::new(author_id : Int) -> ListPostsByAuthorParams {
  { author_id, }
}

///|
pub struct PublishPostParams {
  id : Int
} derive(Show, Eq)

///|
pub fn PublishPostParams::new(id : Int) -> PublishPostParams {
  { id, }
}

///|
pub struct DeletePostParams {
  id : Int
} derive(Show, Eq)

///|
pub fn DeletePostParams::new(id : Int) -> DeletePostParams {
  { id, }
}

///|
pub struct IncrementViewCountParams {
  id : Int
} derive(Show, Eq)

///|
pub fn IncrementViewCountParams::new(id : Int) -> IncrementViewCountParams {
  { id, }
}

///|
pub struct GetPostWithAuthorParams {
  id : Int
} derive(Show, Eq)

///|
pub fn GetPostWithAuthorParams::new(id : Int) -> GetPostWithAuthorParams {
  { id, }
}

///|
pub struct GetPostCountByAuthorParams {
  author_id : Int
} derive(Show, Eq)

///|
pub fn GetPostCountByAuthorParams::new(author_id : Int) -> GetPostCountByAuthorParams {
  { author_id, }
}

///|
pub struct GetAuthorStatsParams {
  author_id : Int
} derive(Show, Eq)

///|
pub fn GetAuthorStatsParams::new(author_id : Int) -> GetAuthorStatsParams {
  { author_id, }
}

///|
pub struct CreateTagParams {
  name : String
} derive(Show, Eq)

///|
pub fn CreateTagParams::new(name : String) -> CreateTagParams {
  { name, }
}

///|
pub struct CreateTagReturningIdParams {
  name : String
} derive(Show, Eq)

///|
pub fn CreateTagReturningIdParams::new(name : String) -> CreateTagReturningIdParams {
  { name, }
}

///|
pub struct GetTagByNameParams {
  name : String
} derive(Show, Eq)

///|
pub fn GetTagByNameParams::new(name : String) -> GetTagByNameParams {
  { name, }
}

///|
pub struct DeleteTagParams {
  id : Int
} derive(Show, Eq)

///|
pub fn DeleteTagParams::new(id : Int) -> DeleteTagParams {
  { id, }
}

///|
pub struct AddTagToPostParams {
  post_id : Int
  tag_id : Int
} derive(Show, Eq)

///|
pub fn AddTagToPostParams::new(post_id : Int, tag_id : Int) -> AddTagToPostParams {
  { post_id, tag_id, }
}

///|
pub struct RemoveTagFromPostParams {
  post_id : Int
  tag_id : Int
} derive(Show, Eq)

///|
pub fn RemoveTagFromPostParams::new(post_id : Int, tag_id : Int) -> RemoveTagFromPostParams {
  { post_id, tag_id, }
}

///|
pub struct ListTagsForPostParams {
  post_id : Int
} derive(Show, Eq)

///|
pub fn ListTagsForPostParams::new(post_id : Int) -> ListTagsForPostParams {
  { post_id, }
}

///|
pub struct GetTagCountForPostParams {
  post_id : Int
} derive(Show, Eq)

///|
pub fn GetTagCountForPostParams::new(post_id : Int) -> GetTagCountForPostParams {
  { post_id, }
}

///|
pub struct ListUsersPaginatedParams {
  id : Int
  limit : Int
} derive(Show, Eq)

///|
pub fn ListUsersPaginatedParams::new(id : Int, limit : Int) -> ListUsersPaginatedParams {
  { id, limit, }
}

///|
pub struct ListPostsByAuthorPaginatedParams {
  author_id : Int
  id : Int
  limit : Int
} derive(Show, Eq)

///|
pub fn ListPostsByAuthorPaginatedParams::new(author_id : Int, id : Int, limit : Int) -> ListPostsByAuthorPaginatedParams {
  { author_id, id, limit, }
}

///|
pub struct ListPostsWithAuthorsPaginatedParams {
  id : Int
  limit : Int
} derive(Show, Eq)

///|
pub fn ListPostsWithAuthorsPaginatedParams::new(id : Int, limit : Int) -> ListPostsWithAuthorsPaginatedParams {
  { id, limit, }
}

///|
pub struct ListPublishedPostsPaginatedParams {
  id : Int
  limit : Int
} derive(Show, Eq)

///|
pub fn ListPublishedPostsPaginatedParams::new(id : Int, limit : Int) -> ListPublishedPostsPaginatedParams {
  { id, limit, }
}

// SQL queries
pub let get_user_by_id_sql : String = "\nSELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE id = ?"

pub let get_user_by_email_sql : String = "SELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE email = ?"

pub let list_users_sql : String = "SELECT id, name, email, age, balance, is_active, bio, created_at FROM users ORDER BY name"

pub let list_active_users_sql : String = "SELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE is_active = 1 ORDER BY name"

pub let create_user_sql : String = "INSERT INTO users (name, email, age, balance, is_active, bio)\nVALUES (?, ?, ?, ?, ?, ?)"

pub let create_user_returning_id_sql : String = "INSERT INTO users (name, email, age, balance, is_active, bio)\nVALUES (?, ?, ?, ?, ?, ?)"

pub let delete_user_by_id_sql : String = "DELETE FROM users WHERE id = ?"

pub let update_user_name_sql : String = "UPDATE users SET name = ? WHERE id = ?"

pub let update_user_bio_sql : String = "\nUPDATE users SET bio = ? WHERE id = ?"

pub let get_users_with_bio_sql : String = "SELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE bio IS NOT NULL ORDER BY name"

pub let get_users_without_bio_sql : String = "SELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE bio IS NULL ORDER BY name"

pub let update_user_balance_sql : String = "\nUPDATE users SET balance = ? WHERE id = ?"

pub let get_users_with_positive_balance_sql : String = "SELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE balance > 0.0 ORDER BY balance DESC"

pub let activate_user_sql : String = "\nUPDATE users SET is_active = 1 WHERE id = ?"

pub let deactivate_user_sql : String = "UPDATE users SET is_active = 0 WHERE id = ?"

pub let count_active_users_sql : String = "SELECT COUNT(*) as count FROM users WHERE is_active = 1"

pub let search_users_by_name_sql : String = "\nSELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE name LIKE ? ORDER BY name"

pub let list_users_with_limit_sql : String = "SELECT id, name, email, age, balance, is_active, bio, created_at FROM users ORDER BY id LIMIT ?"

pub let get_user_count_sql : String = "SELECT COUNT(*) as count FROM users"

pub let create_post_sql : String = "\nINSERT INTO posts (author_id, title, content, is_published)\nVALUES (?, ?, ?, ?)"

pub let create_post_returning_id_sql : String = "INSERT INTO posts (author_id, title, content, is_published)\nVALUES (?, ?, ?, ?)"

pub let get_post_by_id_sql : String = "SELECT id, author_id, title, content, view_count, is_published, published_at, created_at FROM posts WHERE id = ?"

pub let list_posts_by_author_sql : String = "SELECT id, author_id, title, content, view_count, is_published, published_at, created_at FROM posts WHERE author_id = ? ORDER BY created_at DESC"

pub let publish_post_sql : String = "UPDATE posts SET is_published = 1, published_at = datetime('now') WHERE id = ?"

pub let delete_post_sql : String = "DELETE FROM posts WHERE id = ?"

pub let increment_view_count_sql : String = "UPDATE posts SET view_count = view_count + 1 WHERE id = ?"

pub let get_post_with_author_sql : String = "\nSELECT\n  p.id, p.title, p.content, p.view_count, p.is_published,\n  p.published_at, p.created_at,\n  u.id as author_id, u.name as author_name, u.email as author_email\nFROM posts p\nINNER JOIN users u ON p.author_id = u.id\nWHERE p.id = ?"

pub let list_posts_with_authors_sql : String = "SELECT\n  p.id, p.title, p.view_count, p.is_published, p.created_at,\n  u.id as author_id, u.name as author_name\nFROM posts p\nINNER JOIN users u ON p.author_id = u.id\nORDER BY p.created_at DESC"

pub let get_post_count_by_author_sql : String = "\nSELECT COUNT(*) as post_count FROM posts WHERE author_id = ?"

pub let get_author_stats_sql : String = "SELECT\n  COUNT(*) as post_count,\n  COALESCE(SUM(view_count), 0) as total_views\nFROM posts WHERE author_id = ?"

pub let create_tag_sql : String = "\nINSERT INTO tags (name) VALUES (?)"

pub let create_tag_returning_id_sql : String = "INSERT INTO tags (name) VALUES (?)"

pub let get_tag_by_name_sql : String = "SELECT id, name FROM tags WHERE name = ?"

pub let list_tags_sql : String = "SELECT id, name FROM tags ORDER BY name"

pub let delete_tag_sql : String = "DELETE FROM tags WHERE id = ?"

pub let add_tag_to_post_sql : String = "\nINSERT INTO post_tags (post_id, tag_id) VALUES (?, ?)"

pub let remove_tag_from_post_sql : String = "DELETE FROM post_tags WHERE post_id = ? AND tag_id = ?"

pub let list_tags_for_post_sql : String = "SELECT t.id, t.name\nFROM tags t\nINNER JOIN post_tags pt ON t.id = pt.tag_id\nWHERE pt.post_id = ?\nORDER BY t.name"

pub let get_tag_count_for_post_sql : String = "SELECT COUNT(*) as tag_count FROM post_tags WHERE post_id = ?"

pub let list_users_paginated_sql : String = "\nSELECT id, name, email, age, balance, is_active, bio, created_at FROM users WHERE id > ? ORDER BY id LIMIT ?"

pub let list_posts_by_author_paginated_sql : String = "SELECT id, author_id, title, content, view_count, is_published, published_at, created_at FROM posts WHERE author_id = ? AND id > ? ORDER BY id LIMIT ?"

pub let list_posts_with_authors_paginated_sql : String = "SELECT\n  p.id, p.title, p.view_count, p.is_published, p.created_at,\n  u.id as author_id, u.name as author_name\nFROM posts p\nINNER JOIN users u ON p.author_id = u.id\nWHERE p.id > ?\nORDER BY p.id\nLIMIT ?"

pub let list_published_posts_paginated_sql : String = "SELECT id, author_id, title, content, view_count, is_published, published_at, created_at FROM posts WHERE is_published = 1 AND id > ? ORDER BY id LIMIT ?"

